<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./../plantillas/plantillaConMenu.xhtml">

            <ui:define name="content">
                <h:form id="frmConsultaMasivoLista" enctype="multipart/form-data">
                    <h:panelGrid id="pnlgConsultaMasivoLista" style="width:100%">
                        <p:panel header="#{msj.mnuCruceCliente}" id="pnlConsultaMasivoLista">
                            <p:panel id="pnlgProcesoMasivoLista" >
                                <center>                                
                                    <p:commandButton value="#{msj.iniciarProceso}" actionListener="#{consultaListaController.cruceMasivo}" style="animation: ">
                                        <p:confirm header="#{msj.confirma}" message="#{msj.estaSeguroMasivoArchivo}" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </center>
                                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                    <p:commandButton value="#{msj.si}" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                    <p:commandButton value="#{msj.no}" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                </p:confirmDialog>                        
                            </p:panel>    
                            <br/>
                            <br/>
                            <p:panel header="#{msj.historicoCruce}" id="fslHistoricoCruce" >
                                <p:dataTable var="archivoResultado" value="#{consultaListaController.listaArchivoCoincidencia}" paginator="true" rows="10" styleClass="paginated" emptyMessage="#{msj.mensajeNoEncontro}" paginatorPosition="bottom">
                                    <p:column headerText="#{msj.nombreArchivo}">
                                        <h:outputText value="#{archivoResultado.nombreArchivo}" />
                                    </p:column>

                                    <p:column headerText="#{msj.fechaGeneraCruce}">
                                        <h:outputText value="#{archivoResultado.fechaGeneraCruce}" />
                                    </p:column>

                                    <p:column headerText="#{msj.accion}">
                                        <p:commandLink id="ajax" update="growl" actionListener="#{consultaListaController.descargaArchivoCruce}" value="#{msj.descarga}"/>
                                    </p:column>                                                                
                                </p:dataTable>
                            </p:panel>   
                        </p:panel>    
                    </h:panelGrid>    
                </h:form>
            </ui:define>

        </ui:composition>

    </body>
</html>
